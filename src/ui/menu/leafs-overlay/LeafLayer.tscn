[gd_scene load_steps=43 format=2]

[ext_resource path="res://assets/textures/environment/leafs/leaf-2.png" type="Texture" id=1]
[ext_resource path="res://assets/textures/environment/leafs/leaf-1.png" type="Texture" id=2]
[ext_resource path="res://assets/textures/environment/leafs/leaf-3.png" type="Texture" id=3]
[ext_resource path="res://assets/textures/environment/leafs/leaf-1-mask.tres" type="ArrayMesh" id=4]
[ext_resource path="res://src/ui/menu/leafs-overlay/LeafLayer.gd" type="Script" id=5]

[sub_resource type="VisualShaderNodeScalarUniform" id=1]
uniform_name = "Blur_Samples"

[sub_resource type="VisualShaderNodeScalarUniform" id=2]
uniform_name = "Blur_Radius"

[sub_resource type="VisualShaderNodeExpression" id=3]
size = Vector2( 824.92, 548.44 )
expression = "float scale = radius / (SAMPLES*2.0);

vec4 col = vec4(0.0);
float n = 0.0;
	
for(int x=-int(SAMPLES)/2; x < int(SAMPLES)/2; ++x) {
	for(int y=-int(SAMPLES)/2; y < int(SAMPLES)/2; ++y) {
		col += texture(TEXTURE, UV + scale * vec2(float(x), float(y)));
		n += 1.0;
	}
}

col /= n;

color = col.rgb;
alpha = col.a;"

[sub_resource type="VisualShaderNodeVectorCompose" id=4]

[sub_resource type="VisualShaderNodeScalarFunc" id=5]
function = 1

[sub_resource type="VisualShaderNodeScalarFunc" id=6]
function = 0

[sub_resource type="VisualShaderNodeVectorCompose" id=7]

[sub_resource type="VisualShaderNodeScalarFunc" id=8]
function = 1

[sub_resource type="VisualShaderNodeScalarFunc" id=9]
function = 0

[sub_resource type="VisualShaderNodeScalarUniform" id=10]
uniform_name = "Wind_Force"

[sub_resource type="VisualShaderNodeScalarOp" id=11]
default_input_values = [ 0, 0.0, 1, 1.0 ]
operator = 2

[sub_resource type="VisualShaderNodeInput" id=12]
input_name = "time"

[sub_resource type="VisualShaderNodeScalarOp" id=13]
default_input_values = [ 0, 0.0, 1, 1.0 ]
operator = 2

[sub_resource type="VisualShaderNodeScalarFunc" id=14]
function = 0

[sub_resource type="VisualShaderNodeScalarUniform" id=15]
uniform_name = "Wind_Speed"

[sub_resource type="VisualShaderNodeScalarFunc" id=16]
function = 0

[sub_resource type="VisualShaderNodeScalarOp" id=17]
default_input_values = [ 0, 0.0, 1, 2.0 ]
operator = 2

[sub_resource type="VisualShaderNodeScalarOp" id=18]

[sub_resource type="VisualShaderNodeScalarOp" id=19]
default_input_values = [ 0, 0.0, 1, 2.3 ]
operator = 2

[sub_resource type="VisualShaderNodeScalarUniform" id=20]
uniform_name = "Wind_Offset"

[sub_resource type="VisualShaderNodeScalarOp" id=21]

[sub_resource type="VisualShaderNodeScalarFunc" id=22]
function = 19

[sub_resource type="VisualShaderNodeInput" id=23]
input_name = "vertex"

[sub_resource type="VisualShaderNodeTransformVecMult" id=24]

[sub_resource type="VisualShaderNodeTransformCompose" id=25]
default_input_values = [ 0, Vector3( 1, 0, 0 ), 1, Vector3( 0, 1, 0 ), 2, Vector3( 0, 0, 0 ), 3, Vector3( 0, 0, 0 ) ]

[sub_resource type="VisualShader" id=26]
resource_local_to_scene = true
code = "shader_type canvas_item;
uniform float Wind_Offset;
uniform float Wind_Speed;
uniform float Wind_Force;
uniform float Blur_Radius;
uniform float Blur_Samples;



void vertex() {
// Input:2
	float n_out2p0 = TIME;

// ScalarUniform:31
	float n_out31p0 = Wind_Offset;

// ScalarOp:32
	float n_out32p0 = n_out2p0 + n_out31p0;

// ScalarUniform:26
	float n_out26p0 = Wind_Speed;

// ScalarOp:24
	float n_out24p0 = n_out32p0 * n_out26p0;

// ScalarFunc:25
	float n_out25p0 = sin(n_out24p0);

// ScalarOp:30
	float n_in30p1 = 2.30000;
	float n_out30p0 = n_out26p0 * n_in30p1;

// ScalarOp:28
	float n_out28p0 = n_out32p0 * n_out30p0;

// ScalarFunc:27
	float n_out27p0 = sin(n_out28p0);

// ScalarOp:29
	float n_out29p0 = n_out25p0 + n_out27p0;

// ScalarUniform:18
	float n_out18p0 = Wind_Force;

// ScalarOp:19
	float n_out19p0 = n_out29p0 * n_out18p0;

// ScalarFunc:11
	float n_out11p0 = cos(n_out19p0);

// ScalarFunc:33
	float n_out33p0 = -(n_out19p0);

// ScalarFunc:12
	float n_out12p0 = sin(n_out33p0);

// VectorCompose:10
	float n_in10p2 = 0.00000;
	vec3 n_out10p0 = vec3(n_out11p0, n_out12p0, n_in10p2);

// ScalarFunc:16
	float n_out16p0 = sin(n_out19p0);

// ScalarFunc:15
	float n_out15p0 = cos(n_out19p0);

// VectorCompose:14
	float n_in14p2 = 0.00000;
	vec3 n_out14p0 = vec3(n_out16p0, n_out15p0, n_in14p2);

// TransformCompose:9
	vec3 n_in9p2 = vec3(0.00000, 0.00000, 0.00000);
	vec3 n_in9p3 = vec3(0.00000, 0.00000, 0.00000);
	mat4 n_out9p0 = mat4(vec4(n_out10p0, 0.0), vec4(n_out14p0, 0.0), vec4(n_in9p2, 0.0), vec4(n_in9p3, 1.0));

// Input:5
	vec3 n_out5p0 = vec3(VERTEX, 0.0);

// TransformVectorMult:8
	vec3 n_out8p0 = (n_out9p0 * vec4(n_out5p0, 1.0)).xyz;

// Output:0
	VERTEX = n_out8p0.xy;

}

void fragment() {
// ScalarUniform:5
	float n_out5p0 = Blur_Radius;

// ScalarUniform:10
	float n_out10p0 = Blur_Samples;

// Expression:9
	vec3 n_out9p0;
	float n_out9p1;
	n_out9p0 = vec3(0.0, 0.0, 0.0);
	n_out9p1 = 0.0;
	{
		float scale = n_out5p0 / (n_out10p0*2.0);
		
		vec4 col = vec4(0.0);
		float n = 0.0;
			
		for(int x=-int(n_out10p0)/2; x < int(n_out10p0)/2; ++x) {
			for(int y=-int(n_out10p0)/2; y < int(n_out10p0)/2; ++y) {
				col += texture(TEXTURE, UV + scale * vec2(float(x), float(y)));
				n += 1.0;
			}
		}
		
		col /= n;
		
		n_out9p0 = col.rgb;
		n_out9p1 = col.a;
	}

// Output:0
	COLOR.rgb = n_out9p0;
	COLOR.a = n_out9p1;

}

void light() {
// Output:0

}
"
graph_offset = Vector2( -247, 375.5 )
mode = 1
flags/light_only = false
nodes/vertex/0/position = Vector2( 520, 100 )
nodes/vertex/2/node = SubResource( 12 )
nodes/vertex/2/position = Vector2( -2020, -80 )
nodes/vertex/5/node = SubResource( 23 )
nodes/vertex/5/position = Vector2( 60, 160 )
nodes/vertex/8/node = SubResource( 24 )
nodes/vertex/8/position = Vector2( 260, 80 )
nodes/vertex/9/node = SubResource( 25 )
nodes/vertex/9/position = Vector2( 0, 20 )
nodes/vertex/10/node = SubResource( 4 )
nodes/vertex/10/position = Vector2( -220, -80 )
nodes/vertex/11/node = SubResource( 5 )
nodes/vertex/11/position = Vector2( -420, -120 )
nodes/vertex/12/node = SubResource( 6 )
nodes/vertex/12/position = Vector2( -420, -20 )
nodes/vertex/14/node = SubResource( 7 )
nodes/vertex/14/position = Vector2( -220, 120 )
nodes/vertex/15/node = SubResource( 8 )
nodes/vertex/15/position = Vector2( -420, 180 )
nodes/vertex/16/node = SubResource( 9 )
nodes/vertex/16/position = Vector2( -420, 80 )
nodes/vertex/18/node = SubResource( 10 )
nodes/vertex/18/position = Vector2( -980, 220 )
nodes/vertex/19/node = SubResource( 11 )
nodes/vertex/19/position = Vector2( -860, -40 )
nodes/vertex/24/node = SubResource( 13 )
nodes/vertex/24/position = Vector2( -1440, -40 )
nodes/vertex/25/node = SubResource( 14 )
nodes/vertex/25/position = Vector2( -1260, -20 )
nodes/vertex/26/node = SubResource( 15 )
nodes/vertex/26/position = Vector2( -1960, 160 )
nodes/vertex/27/node = SubResource( 16 )
nodes/vertex/27/position = Vector2( -1260, 100 )
nodes/vertex/28/node = SubResource( 17 )
nodes/vertex/28/position = Vector2( -1440, 80 )
nodes/vertex/29/node = SubResource( 18 )
nodes/vertex/29/position = Vector2( -1080, 0 )
nodes/vertex/30/node = SubResource( 19 )
nodes/vertex/30/position = Vector2( -1640, 180 )
nodes/vertex/31/node = SubResource( 20 )
nodes/vertex/31/position = Vector2( -1960, 100 )
nodes/vertex/32/node = SubResource( 21 )
nodes/vertex/32/position = Vector2( -1860, -100 )
nodes/vertex/33/node = SubResource( 22 )
nodes/vertex/33/position = Vector2( -600, -20 )
nodes/vertex/connections = PoolIntArray( 5, 0, 8, 1, 9, 0, 8, 0, 11, 0, 10, 0, 12, 0, 10, 1, 10, 0, 9, 0, 15, 0, 14, 1, 16, 0, 14, 0, 14, 0, 9, 1, 18, 0, 19, 1, 8, 0, 0, 0, 24, 0, 25, 0, 26, 0, 24, 1, 19, 0, 11, 0, 19, 0, 16, 0, 19, 0, 15, 0, 28, 0, 27, 0, 29, 0, 19, 0, 30, 0, 28, 1, 26, 0, 30, 0, 2, 0, 32, 0, 31, 0, 32, 1, 32, 0, 28, 0, 32, 0, 24, 0, 27, 0, 29, 1, 25, 0, 29, 0, 19, 0, 33, 0, 33, 0, 12, 0 )
nodes/fragment/0/position = Vector2( 780, 480 )
nodes/fragment/5/node = SubResource( 2 )
nodes/fragment/5/position = Vector2( -300, 480 )
nodes/fragment/9/node = SubResource( 3 )
nodes/fragment/9/position = Vector2( -80, 440 )
nodes/fragment/9/size = Vector2( 824.92, 548.44 )
nodes/fragment/9/input_ports = "0,0,radius;1,0,SAMPLES;"
nodes/fragment/9/output_ports = "0,1,color;1,0,alpha;"
nodes/fragment/9/expression = "float scale = radius / (SAMPLES*2.0);

vec4 col = vec4(0.0);
float n = 0.0;
	
for(int x=-int(SAMPLES)/2; x < int(SAMPLES)/2; ++x) {
	for(int y=-int(SAMPLES)/2; y < int(SAMPLES)/2; ++y) {
		col += texture(TEXTURE, UV + scale * vec2(float(x), float(y)));
		n += 1.0;
	}
}

col /= n;

color = col.rgb;
alpha = col.a;"
nodes/fragment/10/node = SubResource( 1 )
nodes/fragment/10/position = Vector2( -300, 540 )
nodes/fragment/connections = PoolIntArray( 9, 1, 0, 1, 9, 0, 0, 0, 5, 0, 9, 0, 10, 0, 9, 1 )

[sub_resource type="ShaderMaterial" id=27]
resource_local_to_scene = true
shader = SubResource( 26 )
shader_param/Wind_Offset = 1.0
shader_param/Wind_Speed = 4.0
shader_param/Wind_Force = 0.05
shader_param/Blur_Radius = 0.0
shader_param/Blur_Samples = 2.0

[sub_resource type="MultiMesh" id=28]
custom_data_format = 2
instance_count = 10
visible_instance_count = 10
mesh = ExtResource( 4 )
transform_2d_array = PoolVector2Array( -0.119516, -0.201736, 0.201736, -0.119516, 205.964, 347.656, 0.133578, -0.0988865, 0.0988865, 0.133578, -305.825, 226.4, -0.136022, 0.135923, 0.135923, 0.136022, 313.963, -313.733, 0.135472, 0.0875996, -0.0875996, 0.135472, -322.572, -208.582, 0.163844, -0.0996118, -0.0996118, -0.163844, -340.374, 206.936, 0.0682043, -0.172241, 0.172241, 0.0682043, -139.046, 351.144, -0.0808067, 0.163582, 0.163582, 0.0808067, 184.31, -373.109, 0.160247, 0.0934867, -0.0934867, 0.160247, -371.235, -216.576, -0.174926, 0.00867954, -0.00867954, -0.174926, 453.848, -22.5191, -0.0638843, -0.178131, 0.178131, -0.0638843, 142.523, 397.403 )
custom_data_array = PoolColorArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )

[sub_resource type="GDScript" id=29]
script/source = "tool
extends MultiMeshInstance2D

export var leaf_count := 100
export var min_radius := 700.0
export var max_radius := 1000.0
export var leaf_scale := 1.0
export var scale_spread := 0.2

export var new_placement := false setget _generate_new_placement

func _generate_new_placement(value: bool) -> void:
	var new_placement = false
	
	multimesh.instance_count = leaf_count
	multimesh.visible_instance_count = leaf_count
	for i in range(leaf_count):
		var r = randf() * 2 * PI
		var t : Transform2D
		
		if randi() % 2 == 0:
			t = Transform2D.FLIP_Y
		else:
			t = Transform2D.IDENTITY
		var scale_random = rand_range(1 - scale_spread, 1 + scale_spread)
		t = t.scaled(Vector2(leaf_scale, leaf_scale) * scale_random)
		var dist = rand_range(min_radius, max_radius)
		var angle = randf() * 2 * PI
		var pos := Vector2(dist * cos(angle), dist * sin(angle))
		t = t.rotated(Vector2.ZERO.angle_to_point(pos))
		t.origin = pos
		
		multimesh.set_instance_transform_2d(i, t)
"

[sub_resource type="ShaderMaterial" id=30]
resource_local_to_scene = true
shader = SubResource( 26 )
shader_param/Wind_Offset = null
shader_param/Wind_Speed = 0.8
shader_param/Wind_Force = 0.08
shader_param/Blur_Radius = 0.04
shader_param/Blur_Samples = 3.0

[sub_resource type="MultiMesh" id=31]
custom_data_format = 2
instance_count = 40
visible_instance_count = 40
mesh = ExtResource( 4 )
transform_2d_array = PoolVector2Array( 0.240041, -0.779082, -0.779082, -0.240041, -172.392, 559.517, -0.316302, 0.59078, -0.59078, -0.316302, 250.955, -468.726, -0.399739, 0.721911, -0.721911, -0.399739, 278.324, -502.639, -0.724463, 0.357385, 0.357385, 0.724463, 487.926, -240.699, -0.0586052, -0.803424, -0.803424, 0.0586052, 45.0362, 617.405, 0.589993, 0.615509, -0.615509, 0.589993, -398.25, -415.474, 0.068635, -0.643473, -0.643473, -0.068635, -63.7626, 597.792, 0.322382, -0.571845, 0.571845, 0.322382, -268.979, 477.12, 0.715997, -0.515985, 0.515985, 0.715997, -440.031, 317.11, -0.910343, 0.293382, -0.293382, -0.910343, 494.757, -159.449, 0.226447, 0.670524, 0.670524, -0.226447, -181.175, -536.47, 0.423818, -0.524973, -0.524973, -0.423818, -334.707, 414.593, 0.36135, 0.671599, 0.671599, -0.36135, -251.783, -467.961, -0.832179, -0.0748707, 0.0748707, -0.832179, 535.242, 48.1554, -0.185874, -0.675379, 0.675379, -0.185874, 151.073, 548.931, 0.411119, 0.495054, 0.495054, -0.411119, -371.593, -447.459, 0.672218, -0.0332641, -0.0332641, -0.672218, -572.307, 28.3201, -0.0617777, -0.725119, -0.725119, 0.0617777, 45.8908, 538.646, -0.551112, 0.468812, 0.468812, 0.551112, 440.701, -374.889, 0.53768, 0.487128, 0.487128, -0.53768, -406.612, -368.383, 0.5703, -0.705263, -0.705263, -0.5703, -381.25, 471.473, 0.76281, -0.295777, -0.295777, -0.76281, -477.697, 185.225, 0.548945, 0.393475, 0.393475, -0.548945, -489.863, -351.126, -0.258017, -0.603969, 0.603969, -0.258017, 213.124, 498.883, 0.666318, -0.305723, 0.305723, 0.666318, -480.261, 220.356, -0.0406337, 0.831855, 0.831855, 0.0406337, 29.6981, -607.98, -0.376508, 0.756219, 0.756219, 0.376508, 238.346, -478.72, -0.746769, -0.153714, -0.153714, 0.746769, 579.687, 119.322, -0.691064, -0.0398961, 0.0398961, -0.691064, 539.973, 31.1735, -0.623252, 0.209861, -0.209861, -0.623252, 543.117, -182.878, 0.602347, -0.229518, 0.229518, 0.602347, -575.471, 219.277, 0.765655, 0.109933, 0.109933, -0.765655, -570.731, -81.9461, 0.914275, -0.0817247, 0.0817247, 0.914275, -513.519, 45.9021, 0.652887, 0.163562, 0.163562, -0.652887, -581.043, -145.564, 0.442536, -0.851514, 0.851514, 0.442536, -255.654, 491.922, -0.517903, 0.481259, 0.481259, 0.517903, 432.827, -402.202, -0.680188, -0.384415, -0.384415, 0.680188, 474.659, 268.258, -0.415148, -0.511271, 0.511271, -0.415148, 377.545, 464.962, -0.563462, 0.385713, -0.385713, -0.563462, 485.351, -332.243, 0.477747, -0.675144, 0.675144, 0.477747, -341.373, 482.422 )
custom_data_array = PoolColorArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )

[sub_resource type="ShaderMaterial" id=32]
resource_local_to_scene = true
shader = SubResource( 26 )
shader_param/Wind_Offset = null
shader_param/Wind_Speed = 0.5
shader_param/Wind_Force = 0.12
shader_param/Blur_Radius = 0.05
shader_param/Blur_Samples = 6.0

[sub_resource type="MultiMesh" id=33]
custom_data_format = 2
instance_count = 60
visible_instance_count = 60
mesh = ExtResource( 4 )
transform_2d_array = PoolVector2Array( 0.572628, -1.45014, 1.45014, 0.572628, -285.277, 722.444, -0.519271, 1.50453, 1.50453, 0.519271, 227.045, -657.841, -0.310238, -1.78062, -1.78062, 0.310238, 124.229, 713.015, -0.152788, 1.53902, -1.53902, -0.152788, 73.0352, -735.677, 0.841472, 1.64915, 1.64915, -0.841472, -323.865, -634.723, 1.63584, -0.303361, -0.303361, -1.63584, -675.915, 125.346, 1.49811, 0.755955, 0.755955, -1.49811, -653.57, -329.795, -1.28829, 0.847507, 0.847507, 1.28829, 666.629, -438.546, 1.31946, 0.373667, 0.373667, -1.31946, -754.276, -213.608, 0.854496, -1.83515, 1.83515, 0.854496, -289.361, 621.445, -1.42526, 1.23465, -1.23465, -1.42526, 529.658, -458.82, -1.6395, -0.688349, 0.688349, -1.6395, 695.513, 292.014, -1.81282, -0.116685, 0.116685, -1.81282, 763.934, 49.1718, -0.763748, -1.2672, -1.2672, 0.763748, 366.192, 607.58, -1.75373, -0.950971, 0.950971, -1.75373, 698.453, 378.74, 0.368991, -1.65801, 1.65801, 0.368991, -145.917, 655.66, 1.75334, 0.838007, -0.838007, 1.75334, -629.558, -300.897, 1.59426, 0.0867637, -0.0867637, 1.59426, -681.286, -37.0774, -1.77441, 0.380086, 0.380086, 1.77441, 694.624, -148.792, -1.14141, 1.19331, -1.19331, -1.14141, 461.325, -482.3, 0.48968, 1.78512, 1.78512, -0.48968, -179.55, -654.544, -1.35265, 1.14383, 1.14383, 1.35265, 498.198, -421.287, -0.101131, 1.48689, 1.48689, 0.101131, 51.1587, -752.167, -1.8383, 0.588396, 0.588396, 1.8383, 643.689, -206.029, -1.25555, 0.7802, 0.7802, 1.25555, 668.529, -415.426, 1.7039, -0.67752, 0.67752, 1.7039, -676.087, 268.831, -0.451945, -1.51508, -1.51508, 0.451945, 219.534, 735.955, -1.68204, -0.340414, -0.340414, 1.68204, 699.295, 141.525, -0.980938, 1.30888, -1.30888, -0.980938, 443.988, -592.418, 0.519957, -1.95503, -1.95503, -0.519957, -169.469, 637.204, -1.36179, 0.0319891, 0.0319891, 1.36179, 664.178, -15.6018, -1.31766, -0.960898, 0.960898, -1.31766, 610.9, 445.496, 1.95129, -0.440904, -0.440904, -1.95129, -636.091, 143.728, -1.15961, 0.787484, -0.787484, -1.15961, 631.442, -428.809, 0.93189, -1.6019, -1.6019, -0.93189, -398.987, 685.85, 1.23613, 1.51953, -1.51953, 1.23613, -462.538, -568.583, 0.803517, -1.7042, -1.7042, -0.803517, -333.391, 707.097, 1.33036, 0.440505, 0.440505, -1.33036, -702.478, -232.603, -1.3673, 0.406466, 0.406466, 1.3673, 740.891, -220.249, 0.102178, -1.81695, 1.81695, 0.102178, -40.5717, 721.454, 0.256018, 1.40971, -1.40971, 0.256018, -137.2, -755.464, 0.0803631, -1.86426, 1.86426, 0.0803631, -34.4159, 798.377, 0.935946, 1.40474, -1.40474, 0.935946, -380.464, -571.028, -1.67883, -0.617274, 0.617274, -1.67883, 696.488, 256.085, -0.541482, -1.34197, -1.34197, 0.541482, 252.301, 625.285, -1.59668, -0.00148641, -0.00148641, 1.59668, 756.293, 0.704146, -1.89342, -0.130185, 0.130185, -1.89342, 655.161, 45.0468, 1.45788, -0.677218, -0.677218, -1.45788, -646.384, 300.26, -1.29976, -1.32978, -1.32978, 1.29976, 470.494, 481.36, -0.159989, 1.93967, -1.93967, -0.159989, 64.2246, -778.647, 0.155119, 1.83362, 1.83362, -0.155119, -67.0091, -792.099, 0.359389, -1.80746, 1.80746, 0.359389, -143.817, 723.293, -0.745131, -1.16963, -1.16963, 0.745131, 404.815, 635.439, 1.29041, 1.16568, 1.16568, -1.29041, -496.843, -448.817, 1.86483, 0.0906982, -0.0906982, 1.86483, -692.766, -33.6935, -1.18688, -1.22744, -1.22744, 1.18688, 498.907, 515.958, 1.43947, 1.0361, -1.0361, 1.43947, -615.946, -443.346, 0.56403, 1.62933, 1.62933, -0.56403, -235.355, -679.877, 0.0149162, -1.66303, 1.66303, 0.0149162, -6.01529, 670.652, -0.700453, 1.90313, -1.90313, -0.700453, 241.265, -655.518 )
custom_data_array = PoolColorArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )

[sub_resource type="Animation" id=34]
resource_name = "Close"
tracks/0/type = "value"
tracks/0/path = NodePath("Front:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = false
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.3, 0.3, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.1, 1.1 ), Vector2( 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Middle:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = false
tracks/1/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.3, 0.3, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.1, 1.1 ), Vector2( 0, 0 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Back:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = false
tracks/2/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.3, 0.3, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.1, 1.1 ), Vector2( 0, 0 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath(".:rotation_degrees")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.3, 1, 1 ),
"update": 0,
"values": [ 0.0, 10.0, -720.0 ]
}

[sub_resource type="Animation" id=35]
resource_name = "Open"
length = 0.8
tracks/0/type = "value"
tracks/0/path = NodePath("Front:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2, 0.4, 0.8 ),
"transitions": PoolRealArray( 1, 1, 0.5, 0.5 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 0.95, 0.95 ), Vector2( 2.2, 2.2 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Middle:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.1, 0.3, 0.8 ),
"transitions": PoolRealArray( 1, 1, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 0.95, 0.95 ), Vector2( 2.2, 2.2 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Back:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.2, 0.8 ),
"transitions": PoolRealArray( 1, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 0.95, 0.95 ), Vector2( 2.2, 2.2 ) ]
}

[sub_resource type="Animation" id=36]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Front:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 0.5 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Middle:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Back:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ) ]
}

[sub_resource type="Animation" id=37]
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath("Front:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.7, 1.1 ),
"transitions": PoolRealArray( 0.5, 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ), Vector2( 2.2, 2.2 ), Vector2( 0.95, 0.95 ), Vector2( 1, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Middle:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5, 1, 1.4 ),
"transitions": PoolRealArray( 1, 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ), Vector2( 2.2, 2.2 ), Vector2( 0.95, 0.95 ), Vector2( 1, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Back:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.6, 1.1, 1.5 ),
"transitions": PoolRealArray( 1, 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ), Vector2( 2.2, 2.2 ), Vector2( 0.95, 0.95 ), Vector2( 1, 1 ) ]
}

[node name="LeafLayer" type="Node2D"]
rotation = -12.5664
script = ExtResource( 5 )

[node name="Back" type="MultiMeshInstance2D" parent="."]
modulate = Color( 0.658824, 0.658824, 0.658824, 1 )
light_mask = 16
material = SubResource( 27 )
scale = Vector2( 2.2, 2.2 )
z_index = 4
multimesh = SubResource( 28 )
texture = ExtResource( 3 )
script = SubResource( 29 )
leaf_count = 10
min_radius = 377.0
max_radius = 460.0
leaf_scale = 0.2
scale_spread = 0.2
new_placement = false

[node name="Middle" type="MultiMeshInstance2D" parent="."]
modulate = Color( 0.388235, 0.388235, 0.388235, 1 )
light_mask = 16
material = SubResource( 30 )
scale = Vector2( 2.2, 2.2 )
z_index = 4
multimesh = SubResource( 31 )
texture = ExtResource( 1 )
script = SubResource( 29 )
leaf_count = 40
min_radius = 510.0
max_radius = 620.0
leaf_scale = 0.8
scale_spread = 0.2
new_placement = false

[node name="Front" type="MultiMeshInstance2D" parent="."]
modulate = Color( 0.109804, 0.109804, 0.109804, 1 )
light_mask = 0
material = SubResource( 32 )
scale = Vector2( 2.2, 2.2 )
z_index = 4
multimesh = SubResource( 33 )
texture = ExtResource( 2 )
script = SubResource( 29 )
leaf_count = 60
min_radius = 650.0
max_radius = 800.0
leaf_scale = 1.7
scale_spread = 0.2
new_placement = false

[node name="DebugBackground" type="Polygon2D" parent="."]
visible = false
position = Vector2( 160.964, 20.5486 )
color = Color( 0.380392, 0.345098, 0.345098, 1 )
polygon = PoolVector2Array( 157.767, -1197.84, 921.491, -721.798, 1075.61, 288.511, 363.253, 1096.76, -790.896, 990.589, -1445.03, 124.122, -1075.15, -937.558, -407.321, -1214.96 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Close = SubResource( 34 )
anims/Open = SubResource( 35 )
anims/Reset = SubResource( 36 )
anims/Shrink = SubResource( 37 )
