[gd_scene load_steps=44 format=2]

[ext_resource path="res://assets/textures/environment/leafs/leaf-2.png" type="Texture" id=1]
[ext_resource path="res://assets/textures/environment/leafs/leaf-1.png" type="Texture" id=2]
[ext_resource path="res://assets/textures/environment/leafs/leaf-3.png" type="Texture" id=3]
[ext_resource path="res://assets/textures/environment/leafs/leaf-1-mask.tres" type="ArrayMesh" id=4]
[ext_resource path="res://src/ui/menu/leafs-overlay/LeafLayer.gd" type="Script" id=5]

[sub_resource type="VisualShaderNodeScalarUniform" id=1]
uniform_name = "Blur_Samples"

[sub_resource type="VisualShaderNodeScalarUniform" id=2]
uniform_name = "Blur_Radius"

[sub_resource type="VisualShaderNodeExpression" id=3]
size = Vector2( 824.92, 548.44 )
expression = "float scale = radius / (SAMPLES*2.0);

vec4 col = vec4(0.0);
float n = 0.0;
	
for(int x=-int(SAMPLES)/2; x < int(SAMPLES)/2; ++x) {
	for(int y=-int(SAMPLES)/2; y < int(SAMPLES)/2; ++y) {
		col += texture(TEXTURE, UV + scale * vec2(float(x), float(y)));
		n += 1.0;
	}
}

col /= n;

color = col.rgb;
alpha = col.a;"

[sub_resource type="VisualShaderNodeVectorCompose" id=4]

[sub_resource type="VisualShaderNodeScalarFunc" id=5]
function = 1

[sub_resource type="VisualShaderNodeScalarFunc" id=6]
function = 0

[sub_resource type="VisualShaderNodeVectorCompose" id=7]

[sub_resource type="VisualShaderNodeScalarFunc" id=8]
function = 1

[sub_resource type="VisualShaderNodeScalarFunc" id=9]
function = 0

[sub_resource type="VisualShaderNodeScalarUniform" id=10]
uniform_name = "Wind_Force"

[sub_resource type="VisualShaderNodeScalarOp" id=11]
default_input_values = [ 0, 0.0, 1, 1.0 ]
operator = 2

[sub_resource type="VisualShaderNodeInput" id=12]
input_name = "time"

[sub_resource type="VisualShaderNodeScalarOp" id=13]
default_input_values = [ 0, 0.0, 1, 1.0 ]
operator = 2

[sub_resource type="VisualShaderNodeScalarFunc" id=14]
function = 0

[sub_resource type="VisualShaderNodeScalarUniform" id=15]
uniform_name = "Wind_Speed"

[sub_resource type="VisualShaderNodeScalarFunc" id=16]
function = 0

[sub_resource type="VisualShaderNodeScalarOp" id=17]
default_input_values = [ 0, 0.0, 1, 2.0 ]
operator = 2

[sub_resource type="VisualShaderNodeScalarOp" id=18]

[sub_resource type="VisualShaderNodeScalarOp" id=19]
default_input_values = [ 0, 0.0, 1, 2.3 ]
operator = 2

[sub_resource type="VisualShaderNodeScalarUniform" id=20]
uniform_name = "Wind_Offset"

[sub_resource type="VisualShaderNodeScalarOp" id=21]

[sub_resource type="VisualShaderNodeScalarFunc" id=22]
function = 19

[sub_resource type="VisualShaderNodeInput" id=23]
input_name = "vertex"

[sub_resource type="VisualShaderNodeTransformVecMult" id=24]

[sub_resource type="VisualShaderNodeTransformCompose" id=25]
default_input_values = [ 0, Vector3( 1, 0, 0 ), 1, Vector3( 0, 1, 0 ), 2, Vector3( 0, 0, 0 ), 3, Vector3( 0, 0, 0 ) ]

[sub_resource type="VisualShader" id=26]
resource_local_to_scene = true
code = "shader_type canvas_item;
uniform float Wind_Offset;
uniform float Wind_Speed;
uniform float Wind_Force;
uniform float Blur_Radius;
uniform float Blur_Samples;



void vertex() {
// Input:2
	float n_out2p0 = TIME;

// ScalarUniform:31
	float n_out31p0 = Wind_Offset;

// ScalarOp:32
	float n_out32p0 = n_out2p0 + n_out31p0;

// ScalarUniform:26
	float n_out26p0 = Wind_Speed;

// ScalarOp:24
	float n_out24p0 = n_out32p0 * n_out26p0;

// ScalarFunc:25
	float n_out25p0 = sin(n_out24p0);

// ScalarOp:30
	float n_in30p1 = 2.30000;
	float n_out30p0 = n_out26p0 * n_in30p1;

// ScalarOp:28
	float n_out28p0 = n_out32p0 * n_out30p0;

// ScalarFunc:27
	float n_out27p0 = sin(n_out28p0);

// ScalarOp:29
	float n_out29p0 = n_out25p0 + n_out27p0;

// ScalarUniform:18
	float n_out18p0 = Wind_Force;

// ScalarOp:19
	float n_out19p0 = n_out29p0 * n_out18p0;

// ScalarFunc:11
	float n_out11p0 = cos(n_out19p0);

// ScalarFunc:33
	float n_out33p0 = -(n_out19p0);

// ScalarFunc:12
	float n_out12p0 = sin(n_out33p0);

// VectorCompose:10
	float n_in10p2 = 0.00000;
	vec3 n_out10p0 = vec3(n_out11p0, n_out12p0, n_in10p2);

// ScalarFunc:16
	float n_out16p0 = sin(n_out19p0);

// ScalarFunc:15
	float n_out15p0 = cos(n_out19p0);

// VectorCompose:14
	float n_in14p2 = 0.00000;
	vec3 n_out14p0 = vec3(n_out16p0, n_out15p0, n_in14p2);

// TransformCompose:9
	vec3 n_in9p2 = vec3(0.00000, 0.00000, 0.00000);
	vec3 n_in9p3 = vec3(0.00000, 0.00000, 0.00000);
	mat4 n_out9p0 = mat4(vec4(n_out10p0, 0.0), vec4(n_out14p0, 0.0), vec4(n_in9p2, 0.0), vec4(n_in9p3, 1.0));

// Input:5
	vec3 n_out5p0 = vec3(VERTEX, 0.0);

// TransformVectorMult:8
	vec3 n_out8p0 = (n_out9p0 * vec4(n_out5p0, 1.0)).xyz;

// Output:0
	VERTEX = n_out8p0.xy;

}

void fragment() {
// ScalarUniform:5
	float n_out5p0 = Blur_Radius;

// ScalarUniform:10
	float n_out10p0 = Blur_Samples;

// Expression:9
	vec3 n_out9p0;
	float n_out9p1;
	n_out9p0 = vec3(0.0, 0.0, 0.0);
	n_out9p1 = 0.0;
	{
		float scale = n_out5p0 / (n_out10p0*2.0);
		
		vec4 col = vec4(0.0);
		float n = 0.0;
			
		for(int x=-int(n_out10p0)/2; x < int(n_out10p0)/2; ++x) {
			for(int y=-int(n_out10p0)/2; y < int(n_out10p0)/2; ++y) {
				col += texture(TEXTURE, UV + scale * vec2(float(x), float(y)));
				n += 1.0;
			}
		}
		
		col /= n;
		
		n_out9p0 = col.rgb;
		n_out9p1 = col.a;
	}

// Output:0
	COLOR.rgb = n_out9p0;
	COLOR.a = n_out9p1;

}

void light() {
// Output:0

}
"
graph_offset = Vector2( -247, 375.5 )
mode = 1
flags/light_only = false
nodes/vertex/0/position = Vector2( 520, 100 )
nodes/vertex/2/node = SubResource( 12 )
nodes/vertex/2/position = Vector2( -2020, -80 )
nodes/vertex/5/node = SubResource( 23 )
nodes/vertex/5/position = Vector2( 60, 160 )
nodes/vertex/8/node = SubResource( 24 )
nodes/vertex/8/position = Vector2( 260, 80 )
nodes/vertex/9/node = SubResource( 25 )
nodes/vertex/9/position = Vector2( 0, 20 )
nodes/vertex/10/node = SubResource( 4 )
nodes/vertex/10/position = Vector2( -220, -80 )
nodes/vertex/11/node = SubResource( 5 )
nodes/vertex/11/position = Vector2( -420, -120 )
nodes/vertex/12/node = SubResource( 6 )
nodes/vertex/12/position = Vector2( -420, -20 )
nodes/vertex/14/node = SubResource( 7 )
nodes/vertex/14/position = Vector2( -220, 120 )
nodes/vertex/15/node = SubResource( 8 )
nodes/vertex/15/position = Vector2( -420, 180 )
nodes/vertex/16/node = SubResource( 9 )
nodes/vertex/16/position = Vector2( -420, 80 )
nodes/vertex/18/node = SubResource( 10 )
nodes/vertex/18/position = Vector2( -980, 220 )
nodes/vertex/19/node = SubResource( 11 )
nodes/vertex/19/position = Vector2( -860, -40 )
nodes/vertex/24/node = SubResource( 13 )
nodes/vertex/24/position = Vector2( -1440, -40 )
nodes/vertex/25/node = SubResource( 14 )
nodes/vertex/25/position = Vector2( -1260, -20 )
nodes/vertex/26/node = SubResource( 15 )
nodes/vertex/26/position = Vector2( -1960, 160 )
nodes/vertex/27/node = SubResource( 16 )
nodes/vertex/27/position = Vector2( -1260, 100 )
nodes/vertex/28/node = SubResource( 17 )
nodes/vertex/28/position = Vector2( -1440, 80 )
nodes/vertex/29/node = SubResource( 18 )
nodes/vertex/29/position = Vector2( -1080, 0 )
nodes/vertex/30/node = SubResource( 19 )
nodes/vertex/30/position = Vector2( -1640, 180 )
nodes/vertex/31/node = SubResource( 20 )
nodes/vertex/31/position = Vector2( -1960, 100 )
nodes/vertex/32/node = SubResource( 21 )
nodes/vertex/32/position = Vector2( -1860, -100 )
nodes/vertex/33/node = SubResource( 22 )
nodes/vertex/33/position = Vector2( -600, -20 )
nodes/vertex/connections = PoolIntArray( 5, 0, 8, 1, 9, 0, 8, 0, 11, 0, 10, 0, 12, 0, 10, 1, 10, 0, 9, 0, 15, 0, 14, 1, 16, 0, 14, 0, 14, 0, 9, 1, 18, 0, 19, 1, 8, 0, 0, 0, 24, 0, 25, 0, 26, 0, 24, 1, 19, 0, 11, 0, 19, 0, 16, 0, 19, 0, 15, 0, 28, 0, 27, 0, 29, 0, 19, 0, 30, 0, 28, 1, 26, 0, 30, 0, 2, 0, 32, 0, 31, 0, 32, 1, 32, 0, 28, 0, 32, 0, 24, 0, 27, 0, 29, 1, 25, 0, 29, 0, 19, 0, 33, 0, 33, 0, 12, 0 )
nodes/fragment/0/position = Vector2( 780, 480 )
nodes/fragment/5/node = SubResource( 2 )
nodes/fragment/5/position = Vector2( -300, 480 )
nodes/fragment/9/node = SubResource( 3 )
nodes/fragment/9/position = Vector2( -80, 440 )
nodes/fragment/9/size = Vector2( 824.92, 548.44 )
nodes/fragment/9/input_ports = "0,0,radius;1,0,SAMPLES;"
nodes/fragment/9/output_ports = "0,1,color;1,0,alpha;"
nodes/fragment/9/expression = "float scale = radius / (SAMPLES*2.0);

vec4 col = vec4(0.0);
float n = 0.0;
	
for(int x=-int(SAMPLES)/2; x < int(SAMPLES)/2; ++x) {
	for(int y=-int(SAMPLES)/2; y < int(SAMPLES)/2; ++y) {
		col += texture(TEXTURE, UV + scale * vec2(float(x), float(y)));
		n += 1.0;
	}
}

col /= n;

color = col.rgb;
alpha = col.a;"
nodes/fragment/10/node = SubResource( 1 )
nodes/fragment/10/position = Vector2( -300, 540 )
nodes/fragment/connections = PoolIntArray( 9, 1, 0, 1, 9, 0, 0, 0, 5, 0, 9, 0, 10, 0, 9, 1 )

[sub_resource type="ShaderMaterial" id=27]
resource_local_to_scene = true
shader = SubResource( 26 )
shader_param/Wind_Offset = 1.0
shader_param/Wind_Speed = 4.0
shader_param/Wind_Force = 0.05
shader_param/Blur_Radius = 0.0
shader_param/Blur_Samples = 2.0

[sub_resource type="MultiMesh" id=28]
custom_data_format = 2
instance_count = 10
visible_instance_count = 10
mesh = ExtResource( 4 )
transform_2d_array = PoolVector2Array( 0.189402, -0.0291009, 0.0291009, 0.189402, -384.547, 59.0844, 0.0126942, -0.162306, 0.162306, 0.0126942, -35.8456, 458.314, -0.111365, 0.196351, 0.196351, 0.111365, 213.381, -376.219, 0.10753, 0.135913, 0.135913, -0.10753, -276.606, -349.619, 0.145572, -0.153396, -0.153396, -0.145572, -306.597, 323.075, -0.0734486, -0.178098, -0.178098, 0.0734486, 149.355, 362.156, 0.0466288, 0.176362, 0.176362, -0.0466288, -113.27, -428.416, -0.108545, 0.17291, -0.17291, -0.108545, 212.725, -338.868, -0.0352278, -0.224422, 0.224422, -0.0352278, 64.2525, 409.328, -0.219094, -0.041435, -0.041435, 0.219094, 386.348, 73.0661 )
custom_data_array = PoolColorArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )

[sub_resource type="GDScript" id=29]
script/source = "tool
extends MultiMeshInstance2D

export var leaf_count := 100
export var min_radius := 700.0
export var max_radius := 1000.0
export var leaf_scale := 1.0
export var scale_spread := 0.2

export var new_placement := false setget _generate_new_placement

func _generate_new_placement(value: bool) -> void:
	var new_placement = false
	
	multimesh.instance_count = leaf_count
	multimesh.visible_instance_count = leaf_count
	for i in range(leaf_count):
		var r = randf() * 2 * PI
		var t : Transform2D
		
		if randi() % 2 == 0:
			t = Transform2D.FLIP_Y
		else:
			t = Transform2D.IDENTITY
		var scale_random = rand_range(1 - scale_spread, 1 + scale_spread)
		t = t.scaled(Vector2(leaf_scale, leaf_scale) * scale_random)
		var dist = rand_range(min_radius, max_radius)
		var angle = randf() * 2 * PI
		var pos := Vector2(dist * cos(angle), dist * sin(angle))
		t = t.rotated(Vector2.ZERO.angle_to_point(pos))
		t.origin = pos
		
		multimesh.set_instance_transform_2d(i, t)
"

[sub_resource type="ShaderMaterial" id=30]
resource_local_to_scene = true
shader = SubResource( 26 )
shader_param/Wind_Offset = null
shader_param/Wind_Speed = 0.8
shader_param/Wind_Force = 0.08
shader_param/Blur_Radius = 0.04
shader_param/Blur_Samples = 3.0

[sub_resource type="MultiMesh" id=31]
custom_data_format = 2
instance_count = 40
visible_instance_count = 40
mesh = ExtResource( 4 )
transform_2d_array = PoolVector2Array( 0.177036, -0.705721, -0.705721, -0.177036, -150.068, 598.217, -0.932787, -0.19103, -0.19103, 0.932787, 587.71, 120.36, -0.608043, 0.428664, -0.428664, -0.608043, 489.604, -345.166, -0.287557, 0.785923, 0.785923, 0.287557, 201.639, -551.1, -0.642749, -0.20883, -0.20883, 0.642749, 585.849, 190.343, -0.681414, 0.15509, 0.15509, 0.681414, 497.717, -113.281, 0.515805, -0.408212, 0.408212, 0.515805, -409.728, 324.262, -0.36116, -0.6126, -0.6126, 0.36116, 304.246, 516.063, 0.267572, -0.827606, -0.827606, -0.267572, -184.233, 569.837, -0.565182, 0.451923, -0.451923, -0.565182, 429.075, -343.091, -0.773809, -0.117164, -0.117164, 0.773809, 514.91, 77.9637, 0.620766, 0.584752, 0.584752, -0.620766, -415.876, -391.749, -0.932611, -0.156542, 0.156542, -0.932611, 581.915, 97.6765, 0.75047, -0.29153, 0.29153, 0.75047, -574.384, 223.127, -0.578714, 0.305374, 0.305374, 0.578714, 520.453, -274.631, 0.522417, 0.544636, 0.544636, -0.522417, -377.769, -393.836, -0.0349141, 0.803346, -0.803346, -0.0349141, 24.4668, -562.963, -0.81467, 0.0519169, 0.0519169, 0.81467, 574.452, -36.6084, -0.466126, -0.722629, 0.722629, -0.466126, 295.909, 458.744, 0.211653, -0.861894, -0.861894, -0.211653, -130.338, 530.761, -0.880471, 0.162997, 0.162997, 0.880471, 588.485, -108.943, -0.47901, 0.801565, 0.801565, 0.47901, 263.846, -441.514, -0.438761, 0.803878, 0.803878, 0.438761, 285.277, -522.67, 0.0177872, 0.670818, -0.670818, 0.0177872, -13.9625, -526.574, 0.764764, 0.483349, 0.483349, -0.764764, -502.36, -317.503, 0.183842, 0.700193, -0.700193, 0.183842, -156.279, -595.215, 0.666377, 0.0763728, -0.0763728, 0.666377, -520.518, -59.656, -0.305473, 0.731766, -0.731766, -0.305473, 217.907, -521.999, 0.590584, -0.537635, -0.537635, -0.590584, -440.285, 400.81, -0.696711, 0.480059, 0.480059, 0.696711, 420.596, -289.806, -0.612317, 0.444627, -0.444627, -0.612317, 455.403, -330.685, -0.21001, -0.752717, 0.752717, -0.21001, 148.239, 531.319, -0.451299, -0.659513, -0.659513, 0.451299, 301.704, 440.9, 0.329464, -0.860624, 0.860624, 0.329464, -193.541, 505.566, -0.23524, 0.830294, 0.830294, 0.23524, 154.509, -545.35, 0.425765, -0.802694, -0.802694, -0.425765, -251.375, 473.918, 0.0281648, 0.759321, 0.759321, -0.0281648, -20.7572, -559.612, 0.715873, 0.390948, 0.390948, -0.715873, -509.058, -278.004, 0.599554, 0.506465, 0.506465, -0.599554, -398.331, -336.485, 0.719961, 0.520935, 0.520935, -0.719961, -476.815, -345.004 )
custom_data_array = PoolColorArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )

[sub_resource type="ShaderMaterial" id=32]
resource_local_to_scene = true
shader = SubResource( 26 )
shader_param/Wind_Offset = null
shader_param/Wind_Speed = 0.5
shader_param/Wind_Force = 0.12
shader_param/Blur_Radius = 0.05
shader_param/Blur_Samples = 6.0

[sub_resource type="MultiMesh" id=33]
custom_data_format = 2
instance_count = 60
visible_instance_count = 60
mesh = ExtResource( 4 )
transform_2d_array = PoolVector2Array( -0.677127, 1.70522, 1.70522, 0.677127, 288.074, -725.463, 1.23321, 0.758387, -0.758387, 1.23321, -633.885, -389.819, 1.60151, 0.62299, -0.62299, 1.60151, -686.224, -266.943, 1.17477, 1.1656, 1.1656, -1.17477, -564.147, -559.741, -1.59871, -0.401543, 0.401543, -1.59871, 725.239, 182.156, 1.52053, 0.237015, 0.237015, -1.52053, -776.732, -121.074, -0.591364, 1.73229, -1.73229, -0.591364, 239.254, -700.85, 1.37782, -0.505324, -0.505324, -1.37782, -670.147, 245.78, 0.612069, 1.42884, 1.42884, -0.612069, -294.432, -687.334, 0.870169, 1.17739, 1.17739, -0.870169, -410.944, -556.032, 1.51566, 1.36136, 1.36136, -1.51566, -527.295, -473.613, 0.247107, 1.40172, 1.40172, -0.247107, -122.749, -696.294, 1.55432, -0.815533, 0.815533, 1.55432, -602.748, 316.254, 1.17664, 1.2479, -1.2479, 1.17664, -476.56, -505.424, 0.823906, -1.13559, -1.13559, -0.823906, -431.006, 594.055, 0.38676, -1.60318, 1.60318, 0.38676, -159.906, 662.836, 0.260745, -1.43797, 1.43797, 0.260745, -139.942, 771.76, 1.44898, -0.239492, 0.239492, 1.44898, -754.7, 124.739, 1.15394, 1.2174, -1.2174, 1.15394, -493.981, -521.146, -1.27969, 0.845238, 0.845238, 1.27969, 617.066, -407.573, 0.420022, -1.84516, -1.84516, -0.420022, -172.059, 755.857, 1.01055, -1.46741, -1.46741, -1.01055, -414.887, 602.452, 0.503443, -1.89061, -1.89061, -0.503443, -178.952, 672.029, 1.60632, -0.187634, -0.187634, -1.60632, -735.064, 85.8626, -0.881249, -1.19012, 1.19012, -0.881249, 455.294, 614.873, 1.45621, 0.561887, -0.561887, 1.45621, -708.076, -273.216, 1.84821, -0.710268, 0.710268, 1.84821, -667.003, 256.329, -1.2349, 0.842311, 0.842311, 1.2349, 597.025, -407.225, -1.53683, -0.927357, -0.927357, 1.53683, 670.575, 404.641, -1.38895, 0.700479, -0.700479, -1.38895, 653.276, -329.462, 1.27256, 1.5871, 1.5871, -1.27256, -479.785, -598.376, -1.2867, 1.40695, 1.40695, 1.2867, 523.687, -572.629, 1.71287, -0.760168, 0.760168, 1.71287, -641.911, 284.879, -1.57521, -0.464207, -0.464207, 1.57521, 695.97, 205.099, -1.02626, -1.60314, -1.60314, 1.02626, 382.254, 597.122, 0.23091, -1.55378, -1.55378, -0.23091, -115.133, 774.722, 0.295053, 1.36634, -1.36634, 0.295053, -137.864, -638.422, -1.52373, 0.045345, -0.045345, -1.52373, 736.356, -21.9134, 1.08193, -1.36594, -1.36594, -1.08193, -472.7, 596.788, 0.237149, -1.46008, 1.46008, 0.237149, -127.976, 787.924, 0.885445, -1.46082, -1.46082, -0.885445, -406.775, 671.102, -1.21396, -1.32996, 1.32996, -1.21396, 484.835, 531.163, 1.31552, -0.879638, 0.879638, 1.31552, -542.695, 362.88, 1.2055, -1.03661, -1.03661, -1.2055, -563.32, 484.402, -1.77344, -0.743857, 0.743857, -1.77344, 702.066, 294.477, -0.702717, -1.31501, -1.31501, 0.702717, 331.319, 620.002, -0.358688, 1.75398, 1.75398, 0.358688, 154.813, -757.031, -0.624889, -1.58227, -1.58227, 0.624889, 268.466, 679.777, 0.363454, -1.97903, 1.97903, 0.363454, -118.877, 647.294, -1.61428, 0.179014, 0.179014, 1.61428, 675.298, -74.8866, 1.7227, 0.548604, -0.548604, 1.7227, -727.464, -231.666, 1.03711, 1.17709, 1.17709, -1.03711, -513.186, -582.454, -0.108103, 1.6167, 1.6167, 0.108103, 51.2641, -766.663, 1.78519, 0.864531, 0.864531, -1.78519, -613.803, -297.252, -1.12122, 1.10476, 1.10476, 1.12122, 476.404, -469.411, -0.119167, -1.96635, -1.96635, 0.119167, 43.654, 720.326, 0.485183, 1.88792, -1.88792, 0.485183, -166.008, -645.96, 1.57204, -0.296586, -0.296586, -1.57204, -727.615, 137.274, 0.797039, 1.32758, 1.32758, -0.797039, -373.031, -621.333, 2.01324, -0.278885, -0.278885, -2.01324, -782.43, 108.386 )
custom_data_array = PoolColorArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )

[sub_resource type="Animation" id=34]
resource_name = "Close"
tracks/0/type = "value"
tracks/0/path = NodePath("Front:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = false
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.3, 0.3, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.1, 1.1 ), Vector2( 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Middle:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = false
tracks/1/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.3, 0.3, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.1, 1.1 ), Vector2( 0, 0 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Back:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = false
tracks/2/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.3, 0.3, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1.1, 1.1 ), Vector2( 0, 0 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath(".:rotation_degrees")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.3, 1 ),
"transitions": PoolRealArray( 0.3, 1, 1 ),
"update": 0,
"values": [ 0.0, 10.0, -720.0 ]
}

[sub_resource type="Animation" id=35]
resource_name = "Open"
length = 0.8
tracks/0/type = "value"
tracks/0/path = NodePath("Front:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2, 0.4, 0.8 ),
"transitions": PoolRealArray( 1, 1, 0.5, 0.5 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 0.95, 0.95 ), Vector2( 2.2, 2.2 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Middle:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.1, 0.3, 0.8 ),
"transitions": PoolRealArray( 1, 1, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 0.95, 0.95 ), Vector2( 2.2, 2.2 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Back:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.2, 0.8 ),
"transitions": PoolRealArray( 1, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 0.95, 0.95 ), Vector2( 2.2, 2.2 ) ]
}

[sub_resource type="Animation" id=36]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Front:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 0.5 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Middle:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Back:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}

[sub_resource type="Animation" id=38]
resource_name = "Reset_Large"
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Front:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 0.5 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Middle:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Back:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ) ]
}

[sub_resource type="Animation" id=37]
length = 1.5
tracks/0/type = "value"
tracks/0/path = NodePath("Front:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3, 0.7, 1.1 ),
"transitions": PoolRealArray( 0.5, 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ), Vector2( 2.2, 2.2 ), Vector2( 0.95, 0.95 ), Vector2( 1, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Middle:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5, 1, 1.4 ),
"transitions": PoolRealArray( 1, 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ), Vector2( 2.2, 2.2 ), Vector2( 0.95, 0.95 ), Vector2( 1, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Back:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.6, 1.1, 1.5 ),
"transitions": PoolRealArray( 1, 0.5, 0.5, 1 ),
"update": 0,
"values": [ Vector2( 2.2, 2.2 ), Vector2( 2.2, 2.2 ), Vector2( 0.95, 0.95 ), Vector2( 1, 1 ) ]
}

[node name="LeafLayer" type="Node2D"]
script = ExtResource( 5 )

[node name="Back" type="MultiMeshInstance2D" parent="."]
modulate = Color( 0.658824, 0.658824, 0.658824, 1 )
light_mask = 16
material = SubResource( 27 )
scale = Vector2( 2.2, 2.2 )
z_index = 4
multimesh = SubResource( 28 )
texture = ExtResource( 3 )
script = SubResource( 29 )
leaf_count = 10
min_radius = 377.0
max_radius = 460.0
leaf_scale = 0.2
scale_spread = 0.2
new_placement = false

[node name="Middle" type="MultiMeshInstance2D" parent="."]
modulate = Color( 0.388235, 0.388235, 0.388235, 1 )
light_mask = 16
material = SubResource( 30 )
scale = Vector2( 2.2, 2.2 )
z_index = 4
multimesh = SubResource( 31 )
texture = ExtResource( 1 )
script = SubResource( 29 )
leaf_count = 40
min_radius = 510.0
max_radius = 620.0
leaf_scale = 0.8
scale_spread = 0.2
new_placement = false

[node name="Front" type="MultiMeshInstance2D" parent="."]
modulate = Color( 0.109804, 0.109804, 0.109804, 1 )
light_mask = 0
material = SubResource( 32 )
scale = Vector2( 2.2, 2.2 )
z_index = 4
multimesh = SubResource( 33 )
texture = ExtResource( 2 )
script = SubResource( 29 )
leaf_count = 60
min_radius = 650.0
max_radius = 800.0
leaf_scale = 1.7
scale_spread = 0.2
new_placement = false

[node name="DebugBackground" type="Polygon2D" parent="."]
visible = false
position = Vector2( 160.964, 20.5486 )
color = Color( 0.380392, 0.345098, 0.345098, 1 )
polygon = PoolVector2Array( 157.767, -1197.84, 921.491, -721.798, 1075.61, 288.511, 363.253, 1096.76, -790.896, 990.589, -1445.03, 124.122, -1075.15, -937.558, -407.321, -1214.96 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Close = SubResource( 34 )
anims/Open = SubResource( 35 )
anims/Reset = SubResource( 36 )
anims/Reset_Large = SubResource( 38 )
anims/Shrink = SubResource( 37 )
